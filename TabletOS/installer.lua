local a=require("component")local b=require("computer")local c=require("filesystem")local d=require("shell")local e=require("event")local function f(g)local h,i=pcall(a.internet.request,g)if h then local j=""while true do local k,l=i.read()if k then j=j..k else if l then return false,l else return true,j end end end else return false,reason end end;local m=io.write;local n=io.read;local o=a.gpu;local p,q=o.maxResolution()if p>80 or p<80 then print("TabletOS requires resolution 80,25.")return end;local function r(g,s)local h,reason=f(g)if h then c.makeDirectory(c.path(s)or"")c.remove(s)local t=io.open(s,"w")if t then t:write(reason)t:close()end;return reason else print("")error(reason)end end;io.write("Downloading file list    ")local u=b.uptime()local v,w=f("https://raw.githubusercontent.com/HeroBrine1st/OpenComputers/master/TabletOS/applications.txt")if not v then error(w)end;local h,x=pcall(load("return"..w))if not h then io.stderr:write("Failed. Total time: "..tostring(b.uptime()-u).." Reason: "..reason.."\n")return end;io.write("Success. Total time: "..tostring(b.uptime()-u).."s\n")local function y()local z,A,B={},{},{}local C=x;for D=1,#C do if w.gsub(c.path(C[D].path),"/","")=="apps"then table.insert(z,C[D])elseif w.gsub(c.path(C[D].path),"/","")=="lib"then table.insert(A,C[D])else table.insert(B,C[D])end end;x={}for D=1,#B do table.insert(x,B[D])end;for D=1,#z do table.insert(x,z[D])end;for D=1,#A do table.insert(x,A[D])end end;y()r("https://raw.githubusercontent.com/HeroBrine1st/OpenComputers/master/TabletOS/lib/gui.lua","/lib/gui.lua")local E=require("gui")local a=require("component")local o=a.gpu;o.setBackground(0xCCCCCC)require("term").clear()local F="https://raw.githubusercontent.com/HeroBrine1st/OpenComputers/master/unnamed.txt"local function G()local u=b.uptime()f(F)local H=b.uptime()-u;local I=1024/H;E.drawProgressBar(1,1,80,0xFF0000,0x00FF00,I,100000)local J=o.setBackground(0x00FF00)o.set(1,1,"0")o.setBackground(0xFF0000)o.set(73,1,"100 000")E.centerText(40,1,tostring(math.floor(I)).." byte/sec")o.setBackground(J)end;local K=E.drawButton(20,7,40,11,"Install TabletOS",0xFFFFFF-0xCCCCCC,0xFFFFFF)E.drawProgressBar(1,25,80,0xFF0000,0x00FF00,0,#x)while true do local L,L,M,N,L,L=e.pull("touch")if K(M,N)then break end end;o.fill(1,1,80,24," ")o.setForeground(0xFFFFFF-0xCCCCCC)require("event").timer(0.5,G,math.huge)for D=1,#x do o.fill(1,2,80,22," ")E.centerText(40,13,"Downloading "..x[D].path)r(x[D].url,x[D].path)E.animatedProgressBar(1,25,80,0xFF0000,0x00FF00,D,#x,D-1)end;E.centerText(40,4,"Made by HeroBrine1. github.com/HeroBrine1st vk.com/herobrine1_mcpe")E.centerText(40,5,"https://www.youtube.com/channel/UCYWnftLN1JLhOr0OydR4cUA (https://vk.cc/69QFJN)")E.centerText(40,6,"Installation completed")local O=E.drawButton(20,7,40,11,"Reboot",0xFFFFFF-0xCCCCCC,0xFFFFFF)while true do local L,L,M,N,L,L=e.pull("touch")if O(M,N)then require("computer").shutdown(true)end end
