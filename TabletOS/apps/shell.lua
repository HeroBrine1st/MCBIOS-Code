local a=require("component")local b=a.gpu;local c,d=b.getResolution()local e=require("term")local f=require("shell")local g=require("ECSAPI")local h=require("event")local i=print;local function j()local k=b.setBackground(0xFFFFFF)local l=b.setForeground(0xFFFFFF-0xCCCCCC)if c==160 then b.fill(1,1,c,5," ")local m="Material terminal"b.set(c/2-math.floor(string.len(m)/2),3,m)b.set(1,4,"Working directory: "..require("shell").getWorkingDirectory())else b.fill(1,1,c,3," ")local m="Material terminal"b.set(c/2-math.floor(string.len(m)/2),2,m)b.set(1,3,"Working directory: "..require("shell").getWorkingDirectory())end;b.setBackground(k)b.setForeground(l)end;local function n()local o=g.rememberOldPixels(1,c==160 and d-5 or d-3,c,d)local k=b.setBackground(0xFFFFFF)local l=b.setForeground(0xFFFFFF-0xCCCCCC)b.fill(1,c==160 and d-4 or d-2,c,c==160 and 5 or 3," ")b.set(1,d,"Made by HeroBrine1")local function p()b.set(1,c==160 and d-2 or d-1,">")return g.inputText(2,c==160 and d-2 or d-1,c-1)end;while true do result=p()if result~=nil and result~=""then g.drawOldPixels(o)b.setBackground(k)b.setForeground(l)return result end end end;local function q(r)local s,t=f.execute(r)if not s and not t=="file not found"and not t=="interrupted"then t=debug.traceback(t).."\n"end;return s,t end;j()while true do j()local u,v=e.getCursor()if v<6 then e.setCursor(1,6)end;local w=f.getWorkingDirectory()local result=n()b.setBackground(0x000000)b.setForeground(0xFFFFFF)e.clear()j()e.setCursor(1,c==160 and 6 or 4)local s,t=q(result)if not s then g.error(t)end end
