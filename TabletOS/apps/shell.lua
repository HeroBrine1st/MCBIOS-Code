local a=require("component")local b=a.gpu;local c,d=b.getResolution()local e=require("term")local f=require("shell")local g=require("ECSAPI")local h=print;local function i()local j=b.setBackground(0xFFFFFF)local k=b.setForeground(0xFFFFFF-0xCCCCCC)if c==160 and d==50 then b.fill(1,1,c,5," ")local l="Material terminal"b.set(c/2-math.floor(string.len(l)/2),3,l)b.set(1,4,"Working directory: "..require("shell").getWorkingDirectory())else b.fill(1,1,c,3," ")local l="Material terminal"b.set(c/2-math.floor(string.len(l)/2),2,l)b.set(1,3,"Working directory: "..require("shell").getWorkingDirectory())end;b.setBackground(j)b.setForeground(k)end;local function m()local n=g.rememberOldPixels(1,c==160 and d-5 or d-3,c,d)local j=b.setBackground(0xFFFFFF)local k=b.setForeground(0xFFFFFF-0xCCCCCC)b.fill(1,c==160 and d-4 or d-2,c,c==160 and 5 or 3," ")b.set(1,d,"Made by HeroBrine1")local function o()b.set(1,c==160 and d-2 or d-1,">")return g.inputText(2,c==160 and d-2 or d-1,c-1)end;while true do local p=o()if o~=nil and o~=""then g.drawOldPixels(n)b.setBackground(j)b.setForeground(k)return p end end end;function print(...)h(...)end;local function q(r)local s,t=f.execute(r)if not s and not t=="file not found"and not t=="interrupted"then t=debug.traceback(t).."\n"end;return s,t end;i()while true do i()local u,v=e.getCursor()if v<6 then e.setCursor(1,6)end;local w=f.getWorkingDirectory()local p=m()e.clear()i()e.setCursor(1,c==160 and 6 or 4)local s,t=q(p)if not s then io.stderr:write(t)end end
