local a=require("component")local b=require("computer")local c=a.gpu;local d=require("term")local e=require("shell")local f=require("ECSAPI")local g=require("event")c.setResolution(c.maxResolution())c.setBackground(0x000000)d.clear()local h,i=c.getResolution()local function j()local k=c.setBackground(0xFFFFFF)local l=c.setForeground(0xFFFFFF-0xCCCCCC)if h==160 then c.fill(1,1,h,5," ")local m="Material terminal"c.set(h/2-math.floor(string.len(m)/2),3,m)else c.fill(1,1,h,3," ")local m="Material terminal"c.set(h/2-math.floor(string.len(m)/2),2,m)end;c.setBackground(0xCCCCCC)c.setForeground(0xFFFFFF-0xCCCCCC)c.fill(1,1,h,1," ")c.set(1,1,"Working directory: "..require("shell").getWorkingDirectory())local n=Math.floor(b.energy()/b.maxEnergy()*100)local m=string.gsub(string.format("%q",math.floor(b.energy()/b.maxEnergy()*100)),"\"","")local o=string.len(m)c.set(80-o,1,m)c.set(80,1,"%")c.setBackground(k)c.setForeground(l)end;local function p()local q=f.rememberOldPixels(1,h==160 and i-5 or i-3,h,i)local k=c.setBackground(0xFFFFFF)local l=c.setForeground(0xFFFFFF-0xCCCCCC)c.fill(1,h==160 and i-4 or i-2,h,h==160 and 5 or 3," ")c.set(1,i,"Made by HeroBrine1")local function r()c.set(1,h==160 and i-2 or i-1,">")return f.inputText(2,h==160 and i-2 or i-1,h-1)end;while true do result=r()if result~=nil and result~=""then f.drawOldPixels(q)c.setBackground(k)c.setForeground(l)return result end end end;local function s(t)local u,v=e.execute(t)if not u and not v=="file not found"and not v=="interrupted"then v=debug.traceback(v)end;return u,v end;j()while true do j()local w,x=d.getCursor()if x<6 then d.setCursor(1,6)end;local y=e.getWorkingDirectory()local result=p()c.setBackground(0x000000)c.setForeground(0xFFFFFF)d.clear()j()d.setCursor(1,h==160 and 6 or 4)local u,v=s(result)if not u then f.error(v)end end
